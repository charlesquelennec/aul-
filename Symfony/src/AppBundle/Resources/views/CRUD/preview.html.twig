{# 'AppBundle:CRUD:preview.html.twig #}

{% extends 'SonataAdminBundle:CRUD:preview.html.twig' %}

{% use 'SonataAdminBundle:CRUD:base_edit_form.html.twig' with form as parentForm %}

{% import 'SonataAdminBundle:CRUD:base_edit_form_macro.html.twig' as form_helper %}

{% block preview %}
    <h1>Ma Gallery</h1>
    {% set i = 1  %}
        <h3>Image nÂ°{{i}}</h3>
        {% set i=i+1%}
        {% set runtimeConfig = {"thumbnail": {"size": [object.width, object.height] }} %}
        <img src="{{asset(object.src)| imagine_filter('thumb_50x50', runtimeConfig)}}" alt={{object.alt}}/>

{% endblock %}

{% block templateContent %}
    {% set picture = object %}
    {{ parent() }}

    <div class="sonata-preview-form-container">
        {{ block('parentForm') }}
    </div>

{% endblock %}

{% block formactions %}

    </br>
    <button class="btn btn-success" type="submit" name="btn_preview_approve">
        <i class="fa fa-check"></i>
        {{ 'btn_preview_approve'|trans({}, 'SonataAdminBundle') }}
    </button>

    <button class="btn btn-danger" type="submit" name="btn_preview_decline">
        <i class="fa fa-times"></i>
        {{ 'btn_preview_decline'|trans({}, 'SonataAdminBundle') }}
    </button>

{% endblock %}